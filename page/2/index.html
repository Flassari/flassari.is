<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="The works and thoughts of a game programmer">

<title>Flassari.is </title>

<link rel="stylesheet" href="/wp-content/themes/flassari/style.css" type="text/css" media="screen">
<script type="text/javascript" src="/wp-content/themes/flassari/js/swfobject.js"></script>

<link type="text/css" rel="stylesheet" href="/wp-content/themes/flassari/styles/shCore.css">
<link type="text/css" rel="stylesheet" href="/wp-content/themes/flassari/styles/shThemeDefault.css">
<script type="text/javascript" src="/wp-content/themes/flassari/js/shCore.js"></script>
<script type="text/javascript" src="/wp-content/themes/flassari/js/shBrushAS3.js"></script>
<script type="text/javascript" src="/wp-content/themes/flassari/js/shBrushXml.js"></script>
<script type="text/javascript" src="/wp-content/themes/flassari/js/shBrushPhp.js"></script>
<script type="text/javascript" src="/wp-content/themes/flassari/js/shBrushCpp.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//s.w.org">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"httpsflassari.is\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.6" type="text/css" media="all">
<meta name="generator" content="WordPress 5.8.6">
<script type="text/javascript" src="/wp-includes/js/tw-sack.min.js?ver=1.6.1" id="sack-js"></script>
</head>
<body>


<div id="page">
<div id="header">
	<a href="/"><h1>Flassari.is</h1></a>
</div>
<hr>



	<div id="content" class="narrowcolumn">

	
		
			<div class="post" id="post-578">
				<h2><a href="/2014/11/unity-networking-errors-when-changing-scenes/" rel="bookmark" title="Permanent Link to Unity: Networking errors when changing scenes.">Unity: Networking errors when changing scenes.</a></h2>
				<small>November 18th, 2014 <!-- by Flassari --></small>

				<div class="entry">
					<p>I had a really simple project set up that had two scenes, &#8220;Init&#8221; which I use to connect to server, and &#8220;Main&#8221;, where all my synced objects using networkViews are.<br>
When the player had connected to the server I&#8217;d change to &#8220;Main&#8221; where I wanted all the objects already on the server to automatically show up.<br>
However every time I ran the project I got these three errors:</p>
<pre>ms_IDToPointer->find (obj->GetInstanceID ()) == ms_IDToPointer->end ()</pre>
<pre>View ID AllocatedID: 1 not found during lookup. Strange behaviour may occur</pre>
<pre>Received state update for view id' AllocatedID: 1' but the NetworkView doesn't exist</pre>
<p>What was happening was that the server was sending us the objects before we had a chance to load &#8220;Main&#8221;, which was weird because I was using &#8220;Network.isMessageQueueRunning = false;&#8221; before connecting to the server and turning it back on when &#8220;Main&#8221; was loaded.</p>
<p>Fortunately this has a simple fix, apparently you have to set isMessageQueueRunning AFTER calling Network.Connect(..). I moved it to &#8220;void OnConnectedToServer()&#8221; and everything worked fine.</p>
<p><b>Init.unity</b></p>
<pre class="brush:cpp">void Start()
{
	// Don't set isMessageQueueRunning here
	Network.Connect(hostData);
}

void OnConnectedToServer()
{
	Network.isMessageQueueRunning = false;
	Application.LoadLevel("Main");
}</pre>
<p><b>Main.unity</b></p>
<pre class="brush:cpp">void Start()
{
	Network.isMessageQueueRunning = true;
}</pre>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/allocatedid/" rel="tag">AllocatedID</a>, <a href="/tag/error/" rel="tag">error</a>, <a href="/tag/ms_idtopointer/" rel="tag">ms_IDToPointer</a>, <a href="/tag/networking-2/" rel="tag">networking</a>, <a href="/tag/networkview/" rel="tag">networkView</a>, <a href="/tag/unity-2/" rel="tag">unity</a><br> Posted in <a href="/category/unity/networking/" rel="category tag">Networking</a>, <a href="/category/unity/" rel="category tag">Unity</a> |   <a href="/2014/11/unity-networking-errors-when-changing-scenes/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-569">
				<h2><a href="/2013/03/managing-your-playerglobals-and-sdks/" rel="bookmark" title="Permanent Link to Managing your playerglobals and SDKs">Managing your playerglobals and SDKs</a></h2>
				<small>March 28th, 2013 <!-- by Flassari --></small>

				<div class="entry">
					<p>If you have multiple versions of the Flex/Air SDK on your computer it can sometimes become a hassle to make sure that every SDK has all the playerglobal.swc files for all the versions that you need to compile for.</p>
<p>What I recommend is creating a /flex directory in your preferred location (mine is on the root of C:) where you have all your SDKs, and put a folder there called /playerglobals where you have all your versions of playerglobal that you will need.<br>
Then delete the FlexSDK_x.x.x/frameworks/libs/player folder from every SDK and replace it with a Directory Junction (hard) link, which you can do with the following command (Windows):</p>
<pre>mklink /J C:\flex\FlexSDK_x.x.x\frameworks\libs\player c:\flex\playerglobals</pre>
<p>Now you have only one place to worry about your playerglobals.</p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/air/" rel="tag">air</a>, <a href="/tag/flex/" rel="tag">Flex</a>, <a href="/tag/playerglobal/" rel="tag">playerglobal</a>, <a href="/tag/sdk/" rel="tag">SDK</a><br> Posted in <a href="/category/flash/" rel="category tag">Flash</a>, <a href="/category/flash/flexsdk/" rel="category tag">FlexSDK</a> |   <a href="/2013/03/managing-your-playerglobals-and-sdks/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-523">
				<h2><a href="/2012/08/switch-case-for-objects-class-type/" rel="bookmark" title="Permanent Link to Switch-case for object&#8217;s class type">Switch-case for object&#8217;s class type</a></h2>
				<small>August 31st, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>Quick tip; instead of using a bunch of &#8220;if (x is y) else if (x is z) else&#8221; conditionals, you can simply get the class of any object using the &#8220;constructor&#8221; property. It&#8217;s not exposed trough strict typing though, so you have to typecast your instance to Object to access it.</p>
<p>This allows you to have a switch-case for an object&#8217;s class:</p>
<pre class="brush: as3">function addShape(shape:Shape):void {
	switch (Object(shape).constructor) {
		case Circle:
			trace("It's a circle");
			break;
		case Square:
			trace("It's a square");
			break;
		default:
			trace("Unknown shape");
	}
}</pre>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/case/" rel="tag">case</a>, <a href="/tag/class/" rel="tag">class</a>, <a href="/tag/constructor/" rel="tag">constructor</a>, <a href="/tag/object/" rel="tag">object</a>, <a href="/tag/switch/" rel="tag">switch</a>, <a href="/tag/type/" rel="tag">type</a>, <a href="/tag/typeof/" rel="tag">typeof</a><br> Posted in <a href="/category/flash/as3/" rel="category tag">AS3</a> |   <a href="/2012/08/switch-case-for-objects-class-type/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-510">
				<h2><a href="/2012/08/mouse-scroll-wheel-in-flash-not-working-in-chrome/" rel="bookmark" title="Permanent Link to Mouse scroll wheel in flash not working in Chrome">Mouse scroll wheel in flash not working in Chrome</a></h2>
				<small>August 14th, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>Chrome&#8217;s latest update to version 21 introduced a <a href="http://chrome.blogspot.fi/2012/08/an-even-more-secure-flash-player-for.html">new type of flash player</a> using the <a href="http://en.wikipedia.org/wiki/NPAPI#PPAPI">PPAPI</a> (pepper) plugin architecture.<br>
I noticed that this version of flash started breaking mouse scroll wheel support for some flash content.</p>
<p>Which flash files break and which don&#8217;t depend on one thing; if you are using JavaScript to prevent the default behavior of the mouse scroll wheel or not.</p>
<p>The reason for preventing default mouse scroll wheel behavior is for when you don&#8217;t want the page to scroll when you scroll over the flash content.<br>
To prevent that, developers write JavaScript code (or use libraries like <a href="http://www.libspark.org/wiki/SWFWheel/en">SwfWheel.js</a>) that add an event listener for the &#8220;mousewheel&#8221; or &#8220;DOMMouseScroll&#8221; event, and in the handler call &#8220;<em>evt.preventDefault()</em>&#8221; and/or &#8220;<em>evt.returnValue = false</em>&#8221; to cancel the scroll.</p>
<p>Therein lies the problem, the old NPAPI Flash Player would receive the mouse scroll event even if we prevented the default behavior. Maybe even incorrectly so, since the event was cancelled.<br>
The new PPAPI Flash Player will not receive the event if the default is prevented.</p>
<p>If one were to remove the preventDefault() function, the Flash file would start working correctly again, but the whole page would again start scrolling, which is out of the question.</p>
<p>You will have to not only prevent the default scroll behavior, but also call an external interface function in your flash file to let it know when the user scrolls the mouse wheel.<br>
In my case I was using SwfWheel and only needed a small modification to the library file: in the SWFWheel.getState() function add this code before the &#8220;<em>if (br.mac)</em>&#8221; line:</p>
<pre class="brush:as3">// The new pepper plugin requires chrome to always be hacked.
if (br.chrome)
{
	return STATE_HACKED;
}
</pre>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/chrome/" rel="tag">Chrome</a>, <a href="/tag/mouse/" rel="tag">mouse</a>, <a href="/tag/npapi/" rel="tag">NPAPI</a>, <a href="/tag/pepper/" rel="tag">pepper</a>, <a href="/tag/ppapi/" rel="tag">PPAPI</a>, <a href="/tag/preventdefault/" rel="tag">preventDefault</a>, <a href="/tag/returnvalue/" rel="tag">returnValue</a>, <a href="/tag/scroll/" rel="tag">scroll</a>, <a href="/tag/swfwheel/" rel="tag">SwfWheel</a>, <a href="/tag/wheel/" rel="tag">wheel</a><br> Posted in <a href="/category/flash/as3/" rel="category tag">AS3</a>, <a href="/category/flash/" rel="category tag">Flash</a>, <a href="/category/html/" rel="category tag">HTML</a>, <a href="/category/javascript/" rel="category tag">JavaScript</a> |   <a href="/2012/08/mouse-scroll-wheel-in-flash-not-working-in-chrome/#comments">10 Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-498">
				<h2><a href="/2012/07/verifyerror-error-1024-stack-underflow-occurred/" rel="bookmark" title="Permanent Link to VerifyError: Error #1024: Stack underflow occurred.">VerifyError: Error #1024: Stack underflow occurred.</a></h2>
				<small>July 31st, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>I just completed hunting down a Stack underflow error. It was a little tedious since the error is not thrown when I compiled for debug player, only release.<br>
The source of it? A trace statement in a try block. For some reason the compiler doesn&#8217;t like that at all.</p>
<p>The solution seemed to be to remove all traces from try-catch blocks, which worked, but I wasn&#8217;t satisfied.</p>
<p>After binary searching trough the svn commits, I found what triggered the above error, <b>an empty for-each loop</b>.<br>
Removing that loop made all traces work again normally inside try-catch blocks, which is what I prefer.</p>
<pre class="brush: as3">for each (var fruit:String in fruits) {
   // Empty loop, a BIG NO NO!
}</pre>
<p>So to prevent your swf from corrupting, <b>do not have empty for-each loops in your project!</b> Remove them completely or fill them with some code.</p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/as3/" rel="tag">AS3</a>, <a href="/tag/error/" rel="tag">error</a>, <a href="/tag/flash/" rel="tag">Flash</a>, <a href="/tag/flex-compiler/" rel="tag">flex compiler</a>, <a href="/tag/release/" rel="tag">release</a>, <a href="/tag/stack/" rel="tag">stack</a>, <a href="/tag/throw/" rel="tag">throw</a>, <a href="/tag/trace/" rel="tag">trace</a>, <a href="/tag/try/" rel="tag">try</a>, <a href="/tag/underflow/" rel="tag">underflow</a><br> Posted in <a href="/category/flash/as3/" rel="category tag">AS3</a>, <a href="/category/flash/" rel="category tag">Flash</a>, <a href="/category/flash/flexsdk/" rel="category tag">FlexSDK</a> |   <a href="/2012/07/verifyerror-error-1024-stack-underflow-occurred/#comments">2 Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-492">
				<h2><a href="/2012/04/throwing-an-error-in-a-constructor-before-the-super-statement/" rel="bookmark" title="Permanent Link to Throwing an error in a constructor before the super() statement">Throwing an error in a constructor before the super() statement</a></h2>
				<small>April 13th, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>I would have thought you could throw an error whenever you pleased like it, however the Flex compiler has some other ideas.</p>
<p>If you have a throw statement before the super() in the constructor, Flex will complain with the following error code:<br>
<b><i>1201: A super statement cannot occur after a this, super, return, or throw statement.</i></b></p>
<p>There is a workaround though, just wrap the throw statement in an anonymous function:</p>
<pre class="brush: as3">(function():void {
	throw new Error("Yay for workarounds!");
})();</pre>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/1201/" rel="tag">1201</a>, <a href="/tag/constructor/" rel="tag">constructor</a>, <a href="/tag/error/" rel="tag">error</a>, <a href="/tag/flex-compiler/" rel="tag">flex compiler</a>, <a href="/tag/super/" rel="tag">super</a>, <a href="/tag/throw/" rel="tag">throw</a><br> Posted in <a href="/category/flash/as3/" rel="category tag">AS3</a>, <a href="/category/flash/" rel="category tag">Flash</a> |   <a href="/2012/04/throwing-an-error-in-a-constructor-before-the-super-statement/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-480">
				<h2><a href="/2012/02/external-interface-error-object-expected/" rel="bookmark" title="Permanent Link to External Interface error: Object expected">External Interface error: Object expected</a></h2>
				<small>February 23rd, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>It&#8217;s taken me a while to figure this one out. I have a <a href="http://facebook.angrybirds.com/" target="_blank">flash game on facebook</a> that uses Stage3D, so window mode has to be set to &#8220;direct&#8221; which means that any time facebook wants to overlay some elements on the page they appear under the game on many browsers.</p>
<p>Facebook has a solution for you, on FB.init you can set your own callback function via the hideFlashCallback parameter. In this callback you <a href="http://developers.facebook.com/blog/post/637/" target="_blank">can move the flash object out of view</a> by, for example, setting the top to be -10000px whenever a Facebook dialog is opened and then putting it back when the dialog is closed.</p>
<p>I had functions registered with external interface to pause and resume the game that would get called via javascript in the hideFlashCallback callback.</p>
<p>This was working well enough but for some reason on Internet Explorer I couldn&#8217;t call the resume() function just after showing the flash object, instead I got an &#8220;Object Expected&#8221; error.</p>
<p>Internet Explorer does not support calling external interface methods for flash objects if they are not visible. Since it could be a race condition (DOM might not render the flash object before the function was called) I added a 100ms delay to the call to resume(), only for IE. This seemed to work fine.</p>
<p>But once we got close to production this error re-appeared, but only when Facebook&#8217;s purchase dialog had been shown. Weird! No amount of delay made the external interface calls work again. If I showed the purchase dialog once and closed it, it would be no longer possible to call any external interface functions for the flash object until a page refresh. This was not acceptable.</p>
<p>After a lot of debugging, I noticed that even though we have registered for the hideFlashCallback function, facebook STILL sets the visibility of the flash object to &#8220;hidden&#8221; after 200ms.</p>
<p>As can be seen in <a href="https://developers.facebook.com/docs/reference/javascript/#hide_flash_callback" target="_blank">Facebook&#8217;s documentation</a>: &#8220;The custom action must complete within 200ms or the Flash object will be hidden automatically regardless.&#8221;</p>
<p>Apparently the fact that we&#8217;re changing the visibility of the flash object along with whatever facebook does differently during the purchase dialog (overlay a white div over the whole page) breaks all external interface functionality.</p>
<p>This has a simple fix though, create a higher priority CSS rule that makes the flash object always visible:</p>
<pre class="brush: xml"><style>#MyFlashObjectID {
    visibility: visible !important;
}</style></pre>
<p>It doesn&#8217;t need to be hidden since we are moving it out of view ourselves anyways.</p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/css/" rel="tag">CSS</a>, <a href="/tag/error/" rel="tag">error</a>, <a href="/tag/external-interface/" rel="tag">external interface</a>, <a href="/tag/facebook/" rel="tag">facebook</a>, <a href="/tag/fb-ui/" rel="tag">FB.ui</a>, <a href="/tag/flash/" rel="tag">Flash</a>, <a href="/tag/hideflashcallback/" rel="tag">hideFlashCallback</a>, <a href="/tag/object-expected/" rel="tag">Object expected</a>, <a href="/tag/swf/" rel="tag">swf</a>, <a href="/tag/visibility/" rel="tag">visibility</a><br> Posted in <a href="/category/flash/" rel="category tag">Flash</a>, <a href="/category/internet-explorer/" rel="category tag">Internet Explorer</a>, <a href="/category/stage3d/" rel="category tag">Stage3D</a> |   <a href="/2012/02/external-interface-error-object-expected/#comments">16 Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-472">
				<h2><a href="/2012/01/showing-static-variables-in-the-flash-builder-4-5-debugger/" rel="bookmark" title="Permanent Link to Showing static variables in the Flash Builder 4.5 debugger">Showing static variables in the Flash Builder 4.5 debugger</a></h2>
				<small>January 28th, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>For some reason this option is turned off by default.<br>
To see the static variables of your classes, simply click the small down-facing triangle on the top-right of the variables panel, and click Flex->Show Static Variables.</p>
<p><img loading="lazy" src="/wp-content/uploads/2012/01/Static.png" alt="Show static variables in Flash Builder" title="Show static variables in Flash Builder" width="433" height="175" class="alignnone size-full wp-image-473" srcset="/wp-content/uploads/2012/01/Static.png 433w, /wp-content/uploads/2012/01/Static-300x121.png 300w" sizes="(max-width: 433px) 100vw, 433px"></p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/builder/" rel="tag">builder</a>, <a href="/tag/debugger/" rel="tag">debugger</a>, <a href="/tag/flash/" rel="tag">Flash</a>, <a href="/tag/show/" rel="tag">show</a>, <a href="/tag/static/" rel="tag">static</a>, <a href="/tag/variables/" rel="tag">variables</a><br> Posted in <a href="/category/flash/" rel="category tag">Flash</a> |   <a href="/2012/01/showing-static-variables-in-the-flash-builder-4-5-debugger/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-463">
				<h2><a href="/2012/01/angry-birds-coming-to-facebook/" rel="bookmark" title="Permanent Link to Angry Birds coming to Facebook">Angry Birds coming to Facebook</a></h2>
				<small>January 25th, 2012 <!-- by Flassari --></small>

				<div class="entry">
					<p>Finally, I&#8217;ve been working as a Senior Developer on the Angry Birds facebook game for a few months now, and its been announced!<br>
Rovio has created an official facebook event at <a href="http://www.facebook.com/events/174654275973227/">http://www.facebook.com/events/174654275973227/</a>.</p>
<p><img loading="lazy" src="/wp-content/uploads/2012/01/AngryBirdsFacebook.jpg" alt="Angry Birds on Facebook" title="Angry Birds on Facebook" width="180" height="180" class="alignnone size-full wp-image-466" srcset="/wp-content/uploads/2012/01/AngryBirdsFacebook.jpg 180w, /wp-content/uploads/2012/01/AngryBirdsFacebook-150x150.jpg 150w" sizes="(max-width: 180px) 100vw, 180px"></p>
<p>After the workload decreases I should be able to start writing again, I have some PureMVC stuff I&#8217;m dying to write about.</p>
<p><iframe loading="lazy" width="450" height="259" src="http://www.youtube.com/embed/qS0NQ3CtKhg" frameborder="0" allowfullscreen></iframe></p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/angry-birds/" rel="tag">angry birds</a>, <a href="/tag/facebook/" rel="tag">facebook</a>, <a href="/tag/rovio/" rel="tag">rovio</a><br> Posted in <a href="/category/flash/" rel="category tag">Flash</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a> |   <a href="/2012/01/angry-birds-coming-to-facebook/#respond">No Comments &#187;</a></p>
			</div>

		
			<div class="post" id="post-457">
				<h2><a href="/2011/11/error-3692-all-buffers-need-to-be-cleared-every-frame-before-drawing/" rel="bookmark" title="Permanent Link to Error #3692: All buffers need to be cleared every frame before drawing">Error #3692: All buffers need to be cleared every frame before drawing</a></h2>
				<small>November 18th, 2011 <!-- by Flassari --></small>

				<div class="entry">
					<p>So I have this Starling project and wanted to take a screenshot of the Stage3D currently in use.<br>
I was trying to use the Context3D.drawToBitmapData() function and kept getting this error:<br>
&#8220;Error #3692: All buffers need to be cleared every frame before drawing.&#8221;</p>
<p>Googling around yielded no results, so after figuring out the problem I&#8217;m posting the solution here for anyone else having this problem.</p>
<p>The solution is short: you have to call drawToBitmapData() BEFORE the Context3D.present() call.</p>
<p>In my case with Starling I had to add the functionality in the Starling.render() function, between the call to mStage.render() and the call to mContext.present().</p>
				</div>

				<p class="postmetadata">Tags: <a href="/tag/3692/" rel="tag">3692</a>, <a href="/tag/bitmap/" rel="tag">bitmap</a>, <a href="/tag/bitmapdata/" rel="tag">bitmapdata</a>, <a href="/tag/buffer/" rel="tag">buffer</a>, <a href="/tag/buffers/" rel="tag">buffers</a>, <a href="/tag/context3d/" rel="tag">context3d</a>, <a href="/tag/error/" rel="tag">error</a>, <a href="/tag/screenshot/" rel="tag">screenshot</a>, <a href="/tag/starling/" rel="tag">Starling</a><br> Posted in <a href="/category/flash/as3/" rel="category tag">AS3</a>, <a href="/category/flash/" rel="category tag">Flash</a> |   <a href="/2011/11/error-3692-all-buffers-need-to-be-cleared-every-frame-before-drawing/#comments">2 Comments &#187;</a></p>
			</div>

		
		<div class="navigation">
			<div class="alignleft"><a href="/page/3/">&laquo; Older Entries</a></div>
			<div class="alignright"><a href="/">Newer Entries &raquo;</a></div>
		</div>

	
	</div>

	<div id="sidebar">
		<ul>
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Author</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			 <li>

			
			</li> 
			
			<li>
<h2>Archives</h2>
				<ul>
					<li><a href="/2016/10/">October 2016</a></li>
	<li><a href="/2016/07/">July 2016</a></li>
	<li><a href="/2016/05/">May 2016</a></li>
	<li><a href="/2016/04/">April 2016</a></li>
	<li><a href="/2016/03/">March 2016</a></li>
	<li><a href="/2015/10/">October 2015</a></li>
	<li><a href="/2015/03/">March 2015</a></li>
	<li><a href="/2015/01/">January 2015</a></li>
	<li><a href="/2014/11/">November 2014</a></li>
	<li><a href="/2013/03/">March 2013</a></li>
	<li><a href="/2012/08/">August 2012</a></li>
	<li><a href="/2012/07/">July 2012</a></li>
	<li><a href="/2012/04/">April 2012</a></li>
	<li><a href="/2012/02/">February 2012</a></li>
	<li><a href="/2012/01/">January 2012</a></li>
	<li><a href="/2011/11/">November 2011</a></li>
	<li><a href="/2011/09/">September 2011</a></li>
	<li><a href="/2011/05/">May 2011</a></li>
	<li><a href="/2011/04/">April 2011</a></li>
	<li><a href="/2011/01/">January 2011</a></li>
	<li><a href="/2010/11/">November 2010</a></li>
	<li><a href="/2010/09/">September 2010</a></li>
	<li><a href="/2010/08/">August 2010</a></li>
	<li><a href="/2010/07/">July 2010</a></li>
	<li><a href="/2010/06/">June 2010</a></li>
	<li><a href="/2010/05/">May 2010</a></li>
	<li><a href="/2010/03/">March 2010</a></li>
	<li><a href="/2010/02/">February 2010</a></li>
	<li><a href="/2009/11/">November 2009</a></li>
	<li><a href="/2009/10/">October 2009</a></li>
	<li><a href="/2009/08/">August 2009</a></li>
	<li><a href="/2009/05/">May 2009</a></li>
	<li><a href="/2009/04/">April 2009</a></li>
	<li><a href="/2009/03/">March 2009</a></li>
	<li><a href="/2009/02/">February 2009</a></li>
	<li><a href="/2008/11/">November 2008</a></li>
	<li><a href="/2008/07/">July 2008</a></li>
				</ul>
			</li>

			<li class="categories">
<h2>Categories</h2>
<ul>	<li class="cat-item cat-item-172">
<a href="/category/ant/">ANT</a> (1)
</li>
	<li class="cat-item cat-item-3">
<a href="/category/c/">C++</a> (1)
</li>
	<li class="cat-item cat-item-4">
<a href="/category/css/">CSS</a> (2)
</li>
	<li class="cat-item cat-item-5">
<a href="/category/firefox/">Firefox</a> (1)
</li>
	<li class="cat-item cat-item-6">
<a href="/category/flash/">Flash</a> (33)
<ul class="children">
	<li class="cat-item cat-item-154">
<a href="/category/flash/alchemy/">Alchemy</a> (1)
</li>
	<li class="cat-item cat-item-12">
<a href="/category/flash/as3/">AS3</a> (24)
</li>
	<li class="cat-item cat-item-7">
<a href="/category/flash/flex/">Flex</a> (2)
</li>
	<li class="cat-item cat-item-211">
<a href="/category/flash/flexsdk/">FlexSDK</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-274">
<a href="/category/git/">git</a> (2)
</li>
	<li class="cat-item cat-item-8">
<a href="/category/html/">HTML</a> (3)
</li>
	<li class="cat-item cat-item-200">
<a href="/category/internet-explorer/">Internet Explorer</a> (1)
</li>
	<li class="cat-item cat-item-217">
<a href="/category/javascript/">JavaScript</a> (1)
</li>
	<li class="cat-item cat-item-286">
<a href="/category/mac/">Mac</a> (1)
</li>
	<li class="cat-item cat-item-9">
<a href="/category/math/">Math</a> (5)
</li>
	<li class="cat-item cat-item-10">
<a href="/category/php/">PHP</a> (1)
</li>
	<li class="cat-item cat-item-201">
<a href="/category/stage3d/">Stage3D</a> (1)
</li>
	<li class="cat-item cat-item-1">
<a href="/category/uncategorized/">Uncategorized</a> (4)
</li>
	<li class="cat-item cat-item-240">
<a href="/category/unity/">Unity</a> (6)
<ul class="children">
	<li class="cat-item cat-item-247">
<a href="/category/unity/2d/">2D</a> (2)
</li>
	<li class="cat-item cat-item-241">
<a href="/category/unity/networking/">Networking</a> (1)
</li>
	<li class="cat-item cat-item-252">
<a href="/category/unity/ui/">UI</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-11">
<a href="/category/windows-mobile/">Windows Mobile</a> (1)
</li>
</ul>
</li>
										
					</ul>
	</div>


<hr>
<div id="footer">
</div>
</div>
<script type="text/javascript" src="/wp-includes/js/wp-embed.min.js?ver=5.8.6" id="wp-embed-js"></script>
</body>
</html>